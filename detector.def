Bootstrap: docker
From: pytorch/pytorch:2.4.1-cuda12.1-cudnn9-runtime

%files
    ./ /trojai-example

%post
    pip install --upgrade pip
    pip install -e /trojai-example
    pip install torchvision==0.19.1
    pip install tqdm jsonschema jsonargparse jsonpickle 
    pip install scikit-learn==1.5.2 scikit-image==0.24.0

%runscript
    exec python3 /trojai-example/entrypoint.py "$@"
